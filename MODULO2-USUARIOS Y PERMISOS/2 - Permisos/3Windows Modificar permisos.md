Ahora que podemos leer los permisos, vamos a dar un paso más y aprender a modificar permisos en Windows. Supongamos que queremos darle acceso a otra persona de mi familia para que vea una carpeta con fotos familiares en la computadora. ¿Cómo puedo hacer eso? En mi disco local C, tengo una carpeta llamada Vacation Pictures que quiero compartir con otro usuario en mi máquina, Devan. Para ello, voy a hacer clic derecho sobre esta carpeta, luego voy a Properties (Propiedades), luego a la pestaña Security (Seguridad). Ahora puedo ver una opción para editar permisos de archivos. Voy a hacer clic ahí. Desde aquí, puedo ver que puedo agregar un grupo o nombres de usuario a esta ACL. Voy a seguir adelante y hacer clic en Add (Agregar). Aquí, me pidió ingresar el nombre de usuario de la persona que quiero agregar en esta ACL. Voy a ingresar devan y luego hacer clic en Check Names (Comprobar nombres) para verificar si lo escribí bien. Una vez verificado, voy a hacer clic en OK (Aceptar). Una vez que Devan se agrega a la ACL, puedo hacer clic en su nombre de usuario, luego marcar las casillas Allow (Permitir) para los permisos que quiero otorgarle. Vamos a otorgarle a Devan acceso de modificación para que pueda agregar imágenes a esta carpeta también. Eso es. Hemos pasado por alto esta otra casilla de verificación aquí, Deny (Denegar). Tal vez ya adivinaste que Deny (Denegar) no te permite tener un permiso determinado. Pero es especial porque generalmente tiene prioridad sobre los permisos otorgados. Digamos que Devan está en un grupo que tiene acceso a esta carpeta. Si marcamos explícitamente la casilla de denegación para el nombre de usuario Devan, aun cuando el grupo tenga acceso a la carpeta, Devan no lo tendrá. Lo siento, Devan. Si quieres aprender más sobre la precedencia de permisos, puedes consultar la lectura complementaria. Para modificar un permiso en la CLI, vamos a volver al comando ICACLs. En los ejemplos que voy a mostrarte, ejecutaré ICACLs desde PowerShell. El comando ICACLs fue diseñado para el símbolo del sistema antes de PowerShell y sus parámetros usan caracteres especiales que confunden a PowerShell. Al rodear los parámetros ICACLs con comillas simples, le digo a PowerShell que no intente interpretar el parámetro como código. Si ejecutas estos comandos en command.exe, tendrás que eliminar las comillas simples para que funcionen. Vamos a ver PowerShell.exe y command.exe uno junto al otro. En PowerShell, el comando sería icacls 'C:\'Vacation Pictures\' /grant, y con comillas simples, 'Everyone:(OI)(CI)(R)'. En el símbolo del sistema, el comando sería icacls, con comillas dobles "C\Vacation Pictures" /grant Everyone:(OI)(CI)(R). Vamos a ver lo que hace este comando en un momento. Por ahora, prestemos atención a la diferencia en las comillas. En el ejemplo de PowerShell, agregamos comillas simples para hacer que PowerShell ignore los paréntesis y porque hay un espacio en la ruta de acceso. En el ejemplo de command.exe, tenemos que usar comillas dobles para la ruta de acceso y ya no necesitamos las comillas simples para ocultar los paréntesis. ¿Lo entendiste? Genial. Ahora, vamos a ver los permisos que le otorgamos a Devan con ICACLs. Interesante. Veo que hay una nueva etiqueta adjunta al directorio Vacation Pictures para Devan que le otorga acceso de modificación. Podemos ver que los nuevos archivos o carpetas que se creen en Vacation Pictures heredarán estos permisos. Supongamos que queremos que cualquier persona con permiso para usar esta computadora pueda ver estas imágenes. Sin embargo, no queremos que agreguen o eliminen fotos. ¿Qué permisos queremos otorgarles? Correcto. Queremos darles permiso de lectura a la carpeta Vacation Pictures. Usemos el grupo especial Everyone para otorgar permisos de lectura al directorio. Entonces: icacls 'C:\Vacation Pictures' /grant Everyone:(OI)(CI)(R). Perfecto. El grupo Everyone (Todos) incluye, bueno, a todos, incluso a cuentas de usuarios locales como Cindy y Devan. Guest users (Usuarios invitados): Este es un tipo especial de usuario al que se le permite usar la computadora sin contraseña. Los usuarios invitados están deshabilitados de manera predeterminada. Puedes habilitarlos en situaciones muy específicas. Ahora, cualquiera que pueda usar esta computadora puede mirar las fotos que Devan y yo pusimos aquí. En realidad, tal vez no quería que todos vieran las fotos de mis vacaciones. Tal vez solo quiero que las personas que tienen contraseñas en la computadora puedan verlas. En ese caso, quiero usar el grupo Authenticated users (Usuarios autenticados). Ese grupo no incluye usuarios invitados. Primero, vamos a agregar una nueva DACL. icacls 'C:\Vacation Pictures' /grant' Authenticated Users:(OI)(CI)(R). Perfecto. Ahora, eliminemos los permisos para el grupo Everyone. icacls 'C:\Vaction Pictures' /remove Everyone. Perfecto. Ahora, vamos a usar ICACLs para verificar que los permisos están configurados como pretendíamos. icacls 'C:\Vacation Pictures'. ¡Excelente! Podemos ver que se agregó Authenticated Users y se eliminó Everyone. A continuación, veremos cómo modificar permisos en Linux.