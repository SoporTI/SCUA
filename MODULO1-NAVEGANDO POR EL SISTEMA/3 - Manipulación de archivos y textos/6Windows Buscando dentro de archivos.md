Probablemente tuviste que buscar palabras en un documento de texto antes, ya sea para encontrar y reemplazar palabras o para algo más. La mayoría de los editores de texto trabajan de la misma manera cuando se trata de encontrar palabras en el documento. Todo lo que necesitas hacer es Ctrl-F para buscar la palabra. Bastante fácil, ¿verdad?

Pero ¿y si querías ver si una palabra estaba presente en varios archivos? Hay algunas maneras en que podemos hacer esto. Vamos a hablar de las opciones de la GUI y luego pasaremos a PowerShell para aprender a buscar palabras desde la CLI.

Windows tiene un servicio llamado servicio de Windows Search. Este servicio indexa los archivos en tu computadora revisándolos según una planificación. A continuación, compila una lista de nombres y propiedades del archivo que encuentra en una base de datos. Este es un proceso que consume tiempo y recursos. Por lo tanto, en muchos servidores de Windows, ese servicio de búsqueda no está instalado o está deshabilitado. En computadoras de escritorio con Windows 8 y Windows 10, a menudo está habilitado para archivos en tu directorio principal, pero no para todo el disco duro.

De forma predeterminada, el servicio de Windows Search te permitirá encontrar archivos según su nombre, ruta de acceso, la última vez que fueron modificados, su tamaño o por otros tipos de detalles, pero, de forma predeterminada, no puedes buscar palabras dentro de los archivos. El servicio Windows Search se puede configurar para buscar contenidos del archivo y sus propiedades. Esto aumenta la cantidad de tiempo que le lleva al indexador hacer su trabajo. Es como que la computadora está haciendo todas las búsquedas que podrías querer hacer con antelación y luego solo tienes que buscar el resultado.

Configuremos el servicio para indexar el contenido de los archivos y ver qué aspecto tiene. Las configuraciones que estamos buscando están en el Panel de control, pero podemos usar el menú Inicio para encontrar las configuraciones que necesitamos más rápido. Abre el menú Inicio y luego escribe Indexing (Indización). Verás las Indexing Options (Opciones de indización) en tus resultados de la búsqueda, haz clic ahí.

Ahora debes cambiar la configuración de la carpeta de usuario, que es donde se guardan todos los directorios principales. Selecciona Users (Usuarios) y luego haz clic en Advanced (Avanzadas). Ahora selecciona la pestaña File Types (Tipos de archivo) y luego, Index Properties and File Contents (Propiedades de índice y Contenidos de archivo). Haz clic en OK (Aceptar). Ahora cierra las opciones de indización.

Cuando haces esto, el servicio de Windows Search comenzará a recompilar el índice de acuerdo con su nueva configuración. Esto podría ser rapidísimo o podría tomar tiempo. Todo depende de la cantidad y el tamaño de los archivos que tienes. En este sistema, ya dejé que se complete la reindización. Ahora puedo usar el Explorador de Windows, mi directorio principal, para buscar archivos que tengan una palabra específica en ellos. Busquemos la palabra "cow". Los resultados muestran farm_animals y ranch_animals.txt Impresionante, podemos ver la palabra "cow" en este archivo de texto.

Si no deseas utilizar el servicio de Windows Search, también podemos usar Notepad++, el editor que instalamos en una lección anterior. Desde Notepad++, presiona Ctrl+Shift+F para abrir el cuadro de diálogo Find in Files (Buscar en archivos). Desde aquí, podemos especificar qué queremos encontrar y en qué archivos queremos buscar. Puedes limitar tu búsqueda a un directorio específico, a un conjunto específico de extensiones de archivo y hasta puedes reemplazar la palabra con otra de aquí. Busquemos nuevamente la palabra "cow" y, esta vez, buscaré en mi directorio principal. Find all (Encontrar todo), ahí vamos. Ahora devuelve farm_animals y ranch_animals.

Si no podemos o no queremos usar una GUI, podemos buscar palabras en los archivos desde la línea de comandos. En PowerShell, vamos a utilizar el comando sls o Select-String para buscar palabras, otras strings de caracteres y archivos. Puedes pensar en las strings como una forma en que la computadora representa el texto. El comando Select-String te permite buscar texto que coincida con un patrón que proporciones. Podría ser una palabra, parte de una palabra, una frase o patrones más complicados que se describen con un lenguaje de coincidencia de patrones llamado expresiones regulares.

Ten en cuenta que esta es una capacidad realmente poderosa de la que apenas estamos viendo un panorama superficial. Aquí vamos a buscar una palabra en un archivo en mi directorio principal. Busquemos la palabra "cow" otra vez. Verás que Select-String encontró "cow" y te indica el archivo y el número de línea donde la encontró. Excelente, si deseas buscar en varios archivos en un directorio, puedes usar la coincidencia de patrones para seleccionarlos.

¿Recuerdas el carácter comodín * para seleccionar todo? Podemos usarlo aquí también. Ahora podemos ver que encontró farm_animals y ranch_animals. Select-String puede hacer muchas otras cosas también. Tendremos la oportunidad de verlo en lecciones posteriores. Ser capaz de encontrar una string en un archivo o en un conjunto de archivos será una habilidad crítica para ti en este curso y en tu trabajo de soporte de TI. También es una herramienta importante que vamos a aprender a combinar con otras herramientas para hacer cosas realmente poderosas desde la CLI.
